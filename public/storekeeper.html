
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./images/icons8-storekeeper-96.png">
    <title>ููุญุฉ ุฃููู ุงููุฎุฒู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');
        body { font-family: 'Cairo', sans-serif; background-color: #f3f4f6; }
    </style>
    <script src="js/auth.js"></script>
</head>
<body class="p-6">
    <header class="flex justify-between items-center mb-8 bg-white p-4 rounded shadow">
        <div>
            <h1 class="text-2xl font-bold text-gray-800">๐ท ุฃููุงูุ <span id="skNameSpan"></span></h1>
            <p class="text-sm text-gray-500">ุญุงูุชู ุงูุญุงููุฉ: <span id="statusSpan" class="font-bold">...</span></p>
        </div>
        <div>
            <a href="#" onclick="auth.logout()" class="text-red-500 text-sm">ุชุณุฌูู ุฎุฑูุฌ</a>
        </div>
    </header>

    <div class="max-w-2xl mx-auto space-y-6">
        <!-- Receipt Form -->
        <div class="bg-white rounded shadow-lg p-6">
            <h2 class="text-2xl font-bold text-gray-700 mb-4 text-center">ูุชุญ ุงุณุชูุงูุฉ</h2>
            <form id="receiptForm" onsubmit="createReceipt(); return false;" class="space-y-4">
                <input type="text" id="receiptCompanyName" placeholder="ุงุณู ุงูุดุฑูุฉ" class="w-full border border-gray-300 p-3 rounded" required>
                <select id="receiptDockNumber" class="w-full border border-gray-300 p-3 rounded" required>
                    <option value="" disabled selected>ุงุฎุชุฑ ุฑุตูู (Dock Number)</option>
                    <option value="1">Dock 1</option>
                    <option value="2">Dock 2</option>
                    <option value="3">Dock 3</option>
                    <option value="4">Dock 4</option>
                    <option value="5">Dock 5</option>
                    <option value="6">Dock 6</option>
                    <option value="7">Dock 7</option>
                    <option value="8">Dock 8</option>
                    <option value="9">Dock 9</option>
                </select>
                <input type="text" id="receiptPoNumber" placeholder="ุฑูู ุงููุงุชูุฑุฉ (PO Number)" class="w-full border border-gray-300 p-3 rounded" required>
                <select id="receiptTruckType" class="w-full border border-gray-300 p-3 rounded" required>
                    <option value="" disabled selected>ููุน ุงูุดุงุญูุฉ</option>
                    <option value="ุฏุจุงุจุฉ">ุฏุจุงุจุฉ</option>
                    <option value="ุฌุงูุจู">ุฌุงูุจู</option>
                    <option value="ุฌุฑุงุฑ">ุฌุฑุงุฑ</option>
                </select>
                <button type="submit" id="submitReceiptBtn" class="w-full bg-green-600 text-white px-6 py-3 rounded font-bold hover:bg-green-700 transition">ุงุฑุณุงู</button>
            </form>

            <!-- Completion Section (shown after Send) -->
            <div id="completionSection" class="hidden mt-6 pt-6 border-t border-gray-200 space-y-4">
                <h3 class="text-lg font-bold text-gray-700">ุงูุงูุชูุงุก ูู ุงูุงุณุชูุงู</h3>
                <input type="number" id="receiptTotalItems" placeholder="ุฅุฌูุงูู ุนุฏุฏ ุงููุทุน" class="w-full border border-gray-300 p-3 rounded" required>
                
                <div class="grid grid-cols-2  gap-4">
                    <button id="dockOnlyBtn" onclick="completeReceipt('dock_only')" class="bg-yellow-500 text-white px-6 py-3 rounded font-bold hover:bg-yellow-600 transition shadow">
                         ุงูุฏูู ูุถู <br><span class="text-xs opacity-80">(ุฃูุง ูุณู ูุณุชูู)</span>
                    </button>
                    <button id="fullCompleteBtn" onclick="completeReceipt('full')" class="bg-blue-600 text-white px-6 py-3 rounded font-bold hover:bg-blue-700 transition shadow">
                         ุงููู ุฎูุต <br><span class="text-xs opacity-80">(ุงูุฏูู ูุงุถู + ุฃูุง ูุชุงุญ)</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Current Job Info (shown when busy) -->
        <div id="jobInfo" class="hidden bg-blue-50 rounded shadow-lg p-6 border border-blue-200">
            <h3 class="text-xl font-bold text-blue-800 mb-4 text-center">๐ ุงูุดุบู ุงูุญุงูู</h3>
            <div class="space-y-2 text-right">
                <div class="bg-white p-3 rounded">
                    <p class="text-sm text-gray-500">ุงูุฏูู:</p>
                    <p class="font-bold text-lg text-gray-800" id="currentDock">-</p>
                </div>
                <div class="bg-white p-3 rounded">
                    <p class="text-sm text-gray-500">ุงูุดุฑูุฉ:</p>
                    <p class="font-bold text-lg text-gray-800" id="currentCompany">-</p>
                </div>
                <div class="bg-white p-3 rounded">
                    <p class="text-sm text-gray-500">ุฑูู ุงููุงุชูุฑุฉ:</p>
                    <p class="font-bold text-lg text-gray-800" id="currentInvoice">-</p>
                </div>
            </div>
        </div>

        <!-- Status Control Buttons -->
        <div class="bg-white rounded shadow-lg p-6">
            <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">ุงูุชุญูู ูู ุงูุญุงูุฉ</h3>
            <div class="grid grid-cols-2 gap-4">
                <button onclick="toggleBreak('break')" class="bg-orange-500 text-white px-6 py-3 rounded-lg font-bold hover:bg-orange-600 transition">
                    โ ุงุณุชุฑุงุญุฉ
                </button>
                <button onclick="toggleBreak('available')" class="bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition">
                    โ ูุชุงุญ
                </button>
            </div>
        </div>

        <!-- Job Control Buttons (shown when busy) -->
        <div id="jobControls" class="hidden bg-white rounded shadow-lg p-6">
            <h3 class="text-lg font-bold text-gray-700 mb-4 text-center">ุฅููุงุก ุงูุงุณุชูุงู</h3>
            <div id="jobButtonsContainer" class="grid gap-4">
                <!-- Buttons injected via JS based on job state -->
            </div>
        </div>
    </div>

    <script src="./storekeepper.js"></script>
</body>
</html>
